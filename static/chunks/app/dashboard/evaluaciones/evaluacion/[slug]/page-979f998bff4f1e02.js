(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6284],{9883:function(e,a,i){Promise.resolve().then(i.bind(i,7229))},9429:function(e,a,i){"use strict";i.d(a,{Z:function(){return c}});var s=i(7437),l=i(2265),r=i(3063),o=i(7330);function c(e){let{onGrupoTipoChange:a,selectedTipoId:i,selectedCategoryId:c}=e,[n,t]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(async()=>{if(!c){t([]);return}let{data:e,error:a}=await o.Z.from("sub_categorias").select("id_subcategorias, nombre").eq("id_categoria",c);a?console.error("Error al obtener los tipos de subentidad ",a):t(e)})()},[c]),(0,s.jsx)("div",{className:"flex justify-between items-start",children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Listas de sub-familias disponibles"}),(0,s.jsxs)(r.Select,{onValueChange:a,value:i,children:[(0,s.jsx)(r.SelectTrigger,{id:"group-type",children:(0,s.jsx)(r.SelectValue,{placeholder:"Seleccione uno"})}),(0,s.jsx)(r.SelectContent,{position:"popper",children:n.map(e=>(0,s.jsx)(r.SelectItem,{value:e.id_subcategorias.toString(),children:e.nombre},e.id_subcategorias))})]},c||"default-key")]})})}},7229:function(e,a,i){"use strict";i.r(a),i.d(a,{default:function(){return u}});var s=i(7437),l=i(2265);i(1262);var r=i(7445),o=i(3063),c=i(6392),n=i(9429),t=i(4033),d=i(7330),m=i(8156);function u(e){let{id_evaluacion:a}=e,i=(0,t.useRouter)();(0,l.useEffect)(()=>{(async()=>{if(a){let{data:e,error:i}=await d.Z.from("evaluaciones").select("*").eq("id_evaluacion",a).single();i?console.error("Error fetching evaluation details: ",i):b({...e})}})()},[a]);let[u,b]=(0,l.useState)({nombre:"",descripcion:"",id_categoria:"",id_subcategoria:"",nivel:"",clase:"",duracion:"",limite_tiempo:null,calificacion:"",activa:null,instrucciones:"",areas:""}),[h,p]=(0,l.useState)({visible:!1,titulo:"",mensaje:""}),x=e=>{let{name:a,value:i,type:s,checked:l}=e.target;b(e=>({...e,[a]:"checkbox"===s?l:i}))},v=(e,a)=>{b(i=>({...i,[a]:e}))},g=async e=>{e.preventDefault(),console.log(u);let{data:i,error:s}=await d.Z.from("evaluaciones").update([u]).eq("id_evaluacion",a);s?p({visible:!0,titulo:"Error",mensaje:"Vuelva a intentar mas tarde: "+s.message}):p({visible:!0,titulo:"\xc9xito",mensaje:"Se ha actualizado su evaluacion"})},j=async e=>{e.preventDefault();let{data:a,error:s}=await d.Z.from("evaluaciones").upsert([u]).select();if(s?p({visible:!0,titulo:"Error",mensaje:"Vuelva a intentar mas tarde: "+s.message}):p({visible:!0,titulo:"\xc9xito",mensaje:"Se ha actualizado su evaluacion"}),a&&a.length>0){let e=a[0].id_evaluacion;i.push("/dashboard/evaluaciones/temas/asignartema/".concat(e))}else console.error("No se retornaron datos de la inserci\xf3n")};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("form",{onSubmit:g,children:(0,s.jsxs)("div",{className:"bg-white p-6 shadow-lg rounded-lg mx-auto my-4 text-left",children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-700",children:"Editar evaluacion: "})}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4 mb-4",children:(0,s.jsxs)("div",{className:"grid col-span-full",children:[(0,s.jsx)("label",{className:"font-semibold ",htmlFor:"nombre",children:"Nombre Evaluacion"}),(0,s.jsx)("input",{name:"nombre",value:u.nombre,onChange:x,className:"border p-2",id:"nombre",placeholder:"Microsoft Excel 365",type:"text"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 text-center ",children:[(0,s.jsx)(c.Z,{selectedTipoId:u.id_categoria,onGrupoTipoChange:e=>{b(a=>({...a,id_categoria:e,id_subcategoria:e?null:a.id_subcategoria}))}}),(0,s.jsxs)("div",{className:"grid place-items-center m-2",children:[(0,s.jsx)("label",{children:(0,s.jsx)("span",{className:"font-semibold  text-gray-700",children:"\xbfLa familia no esta creada?"})}),(0,s.jsx)("button",{className:"bg-blue-500 text-white p-2 w-1/2 rounded-md ",variant:"default",onClick:()=>i.push("/dashboard/evaluaciones/categorias/crearcategoria"),children:"Crear familia"})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 text-center ",children:[(0,s.jsx)(n.Z,{selectedTipoId:u.id_subcategoria.toString(),selectedCategoryId:u.id_categoria.toString(),onGrupoTipoChange:e=>{x({target:{name:"id_subcategoria",value:e}})}}),(0,s.jsxs)("div",{className:"grid place-items-center m-2",children:[(0,s.jsx)("label",{children:(0,s.jsx)("span",{className:"font-semibold  text-gray-700",children:"\xbfLa sub-familia no esta creada?"})}),(0,s.jsx)("button",{className:"bg-blue-500 text-white p-2 w-1/2 rounded-md ",variant:"default",onClick:()=>i.push("/dashboard/evaluaciones/categorias/subcategorias/crearsubcategorias"),children:"Crear sub-familia"})]})]})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"font-semibold",htmlFor:"nivel",children:"Nivel de Profundidad"}),(0,s.jsxs)(o.Select,{onValueChange:e=>v(e,"nivel"),value:u.nivel,children:[(0,s.jsx)(o.SelectTrigger,{id:"group-type",children:(0,s.jsx)(o.SelectValue,{placeholder:"Seleccione uno"})}),(0,s.jsx)(o.SelectContent,{position:"popper",children:[{valor:"Basico",nombre:"1. B\xe1sico"},{valor:"Medio",nombre:"2. Medio"},{valor:"Intermedio",nombre:"3. Intermedio"},{valor:"Avanzado",nombre:"4. Avanzado"},{valor:"Experto",nombre:"5. Experto"},{valor:"Instructor",nombre:"6. Instructor"}].map((e,a)=>(0,s.jsx)(o.SelectItem,{value:e.valor,children:e.nombre},a))})]})]}),(0,s.jsx)("div",{className:"flex justify-center items-center",children:"ESPACIO PARA EXPLICACION"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"font-semibold",htmlFor:"clase",children:"Clase-Tipo Objetivo Asociado"}),(0,s.jsxs)(o.Select,{onValueChange:e=>v(e,"clase"),value:u.clase,children:[(0,s.jsx)(o.SelectTrigger,{id:"group-type",children:(0,s.jsx)(o.SelectValue,{placeholder:"Seleccione uno"})}),(0,s.jsx)(o.SelectContent,{position:"popper",children:[{valor:"Actitud",nombre:"Actitud"},{valor:"Aptitud",nombre:"Aptitud"},{valor:"Conocimiento",nombre:"Conocimiento"},{valor:"Competencia",nombre:"Competencia"},{valor:"Especifica-Desempe\xf1o",nombre:"Especifica-Desempe\xf1o"},{valor:"Habilidad",nombre:"Habilidad"},{valor:"Tecnico",nombre:"Tecnico"},{valor:"Psicometrico",nombre:"Psicometrico"}].map((e,a)=>(0,s.jsx)(o.SelectItem,{value:e.valor,children:e.nombre},a))})]})]}),(0,s.jsx)("div",{className:"flex  justify-center items-center",children:"ESPACIO PARA EXPLICACION"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 col-span-full gap-4 mb-4 ",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 ",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"font-semibold",htmlFor:"duracion",children:"Duracion (Minutos)"}),(0,s.jsx)("input",{name:"duracion",value:u.duracion,onChange:x,className:"border p-2",id:"duracion",placeholder:"80",type:"number"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"limite_tiempo",checked:!!u.limite_tiempo,onChange:x,className:"mr-2",id:"limite_tiempo"}),(0,s.jsx)("label",{className:"font-semibold",htmlFor:"limite_tiempo",children:"Limite de tiempo"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 ",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"font-semibold",htmlFor:"duracion",children:"Calificacion (Minima Req)"}),(0,s.jsx)("input",{name:"calificacion",value:u.calificacion,onChange:x,className:"border p-2",id:"duracion",placeholder:"80",type:"number"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"activa",checked:!!u.activa,onChange:x,className:"mr-2",id:"activa"}),(0,s.jsx)("label",{className:"font-semibold",htmlFor:"activa",children:"Evaluacion Activa"})]})]})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"font-semibold",htmlFor:"descripcion",children:"Descripci\xf3n:"}),(0,s.jsx)("textarea",{name:"descripcion",value:u.descripcion,onChange:x,className:"w-full border p-2",id:"descripcion",placeholder:"Esta evaluaci\xf3n es ideal para medir el conocimiento de Excel 365 a los candidatos que requieren conocer, administrar y aplicar herramientas de apoyo y auxiliares para distintos procesos y funciones administrativas y operativas con el prop\xf3sito de medir desempe\xf1o \xf3ptimo de sus actividades responsabilidades.",rows:"3"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"font-semibold",htmlFor:"instrucciones",children:"Instrucciones:"}),(0,s.jsx)("textarea",{name:"instrucciones",value:u.instrucciones,onChange:x,className:"w-full border p-2",id:"instrucciones",placeholder:"Lea y eval\xfae detenidamente cada una de las siguientes preguntas y responda sobre las opciones de respuesta, de acuerdo a su forma de pensar, actuar en base a su conocimiento y/o experiencia.",rows:"3"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"font-semibold",htmlFor:"instrucciones",children:"Areas a Evaluar:"}),(0,s.jsx)("textarea",{name:"areas",value:u.areas,onChange:x,className:"w-full border p-2",id:"instrucciones",placeholder:"Dominio de calculos y formulas",rows:"3"})]}),(0,s.jsxs)("div",{className:"flex justify-around ",children:[(0,s.jsx)(r.z,{onClick:j,className:"bg-blue-500 text-white",variant:"default",disabled:!u.activa,children:"Asignar temas"}),(0,s.jsx)(r.z,{type:"submit",className:"bg-blue-500 text-white",variant:"default",children:"Guardar"})]})]})}),h.visible&&(0,s.jsx)(m.U,{titulo:h.titulo,mensaje:h.mensaje,visible:h.visible,onClose:()=>{p(e=>({...e,visible:!1}))}})]})}}},function(e){e.O(0,[7895,4799,577,4997,3542,2971,4938,1744],function(){return e(e.s=9883)}),_N_E=e.O()}]);