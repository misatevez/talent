(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4922],{291:function(e,t,a){Promise.resolve().then(a.bind(a,8002))},8002:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(7437),i=a(4033),r=a(7330),l=a(2265),n=a(8156),o=a(1262),c=a(7445),u=a(6392);function d(e){let{formState:t,handleInputChange:a,handleSubmit:r,titulo:l}=e,n=(0,i.useRouter)();return(0,s.jsx)("form",{onSubmit:r,className:"rounded-lg shadow-lg",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-inner m-auto text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center mt-4  text-gray-800",children:l}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,s.jsx)("div",{children:(0,s.jsx)(u.Z,{selectedTipoId:t.id_categoria,onGrupoTipoChange:e=>{a({target:{name:"id_categoria",value:e}})}})})}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 text-start",htmlFor:"group-name",children:"Nombre Sub-Familia de Categoria:"}),(0,s.jsx)(o.I,{name:"nombre",value:t.nombre,onChange:a,id:"group-name",placeholder:"Secretarial"})]}),(0,s.jsxs)("div",{className:"flex justify-around mt-4",children:[(0,s.jsx)(c.z,{type:"submit",className:"bg-blue-500 text-white",variant:"default",children:"Guardar"}),(0,s.jsx)(c.z,{type:"button",className:"bg-red-500 text-white",variant:"default",onClick:()=>n.back(),children:"Volver"})]})]})})}function m(){(0,i.useRouter)();let[e,t]=(0,l.useState)({nombre:"",id_categoria:""}),[a,o]=(0,l.useState)({visible:!1,titulo:"",mensaje:""}),c=async t=>{t.preventDefault(),console.log(e);let{data:a,error:s}=await r.Z.from("sub_categorias").insert([e]);s?o({visible:!0,titulo:"Error",mensaje:"Vuelva a intentar mas tarde: "+s.message}):o({visible:!0,titulo:"\xc9xito",mensaje:"Se ha creado su subcategoria"})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"p-4 mx-auto w-full max-w-2xl mt-4",children:(0,s.jsx)(d,{formState:e,handleInputChange:e=>{let{name:a,value:s}=e.target;t(e=>({...e,[a]:s}))},handleSubmit:c})}),a.visible&&(0,s.jsx)(n.U,{titulo:a.titulo,mensaje:a.mensaje,visible:a.visible,onClose:()=>{o(e=>({...e,visible:!1}))}})]})}a(9429)},9429:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(7437),i=a(2265),r=a(3063),l=a(7330);function n(e){let{onGrupoTipoChange:t,selectedTipoId:a,selectedCategoryId:n}=e,[o,c]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async()=>{if(!n){c([]);return}let{data:e,error:t}=await l.Z.from("sub_categorias").select("id_subcategorias, nombre").eq("id_categoria",n);t?console.error("Error al obtener los tipos de subentidad ",t):c(e)})()},[n]),(0,s.jsx)("div",{className:"flex justify-between items-start",children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Listas de sub-familias disponibles"}),(0,s.jsxs)(r.Select,{onValueChange:t,value:a,children:[(0,s.jsx)(r.SelectTrigger,{id:"group-type",children:(0,s.jsx)(r.SelectValue,{placeholder:"Seleccione uno"})}),(0,s.jsx)(r.SelectContent,{position:"popper",children:o.map(e=>(0,s.jsx)(r.SelectItem,{value:e.id_subcategorias.toString(),children:e.nombre},e.id_subcategorias))})]},n||"default-key")]})})}}},function(e){e.O(0,[7895,4799,577,4997,3542,2971,4938,1744],function(){return e(e.s=291)}),_N_E=e.O()}]);