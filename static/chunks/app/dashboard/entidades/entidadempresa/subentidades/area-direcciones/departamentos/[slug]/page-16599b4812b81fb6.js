(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7010],{7243:function(e,t,s){Promise.resolve().then(s.bind(s,6619))},6619:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(7437),a=s(2265),i=s(7330),r=s(4033),o=s(8156),l=s(7092);function d(e){let{params:t}=e,[s,d]=(0,a.useState)(null),[c,m]=(0,a.useState)(!0);(0,r.useRouter)();let{slug:u}=t,[h,p]=(0,a.useState)({visible:!1,titulo:"",mensaje:""});(0,a.useEffect)(()=>{(async()=>{if(u){m(!0);let{data:e,error:t}=await i.Z.from("departamentos").select("*").eq("id_departamentos",u).single();t?console.error("Error fetching user details: ",t):d(e),m(!1)}})()},[u]);let f=async e=>{e.preventDefault(),m(!0);let{error:t}=await i.Z.from("departamentos").update(s).eq("id_departamentos",u);t?p({visible:!0,titulo:"Error",mensaje:"Vuelva a intentar mas tarde: "+t.message}):p({visible:!0,titulo:"\xc9xito",mensaje:"Los datos del departamento han sido actualizados"}),m(!1)};return c?(0,n.jsx)("div",{children:"Loading..."}):s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{titulo:"Editar Departamento",formState:s,handleInputChange:e=>{let{name:t,value:s}=e.target;d(e=>({...e,[t]:s}))},handleSubmit:f}),h.visible&&(0,n.jsx)(o.U,{titulo:h.titulo,mensaje:h.mensaje,visible:h.visible,onClose:()=>{p(e=>({...e,visible:!1}))}})]}):(0,n.jsx)("div",{children:"No user details found or there was an error fetching them."})}},7092:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(7437);s(2265);var a=s(1262),i=s(7445),r=s(3102);function o(e){let{formState:t,handleInputChange:s,handleSubmit:o,titulo:l}=e;return(0,n.jsx)("form",{onSubmit:o,children:(0,n.jsxs)("div",{className:"bg-white p-4 rounded-md shadow-md mt-4",children:[(0,n.jsx)("h2",{className:"text-lg font-bold text-[#2c5282] mb-4",children:l}),(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,n.jsx)("div",{children:(0,n.jsx)(r.Z,{selectedTipoId:t.id_direcciones,onGrupoTipoChange:e=>{s({target:{name:"id_direcciones",value:e}})}})})}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"group-name",children:"Nombre Departamento:"}),(0,n.jsx)(a.I,{name:"nombre",value:t.nombre,onChange:s,id:"group-name",placeholder:"Especial"})]}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"group-description",children:"Descripci\xf3n Departamento:"}),(0,n.jsx)("textarea",{name:"descripcion",value:t.descripcion,onChange:s,className:"resize-none border rounded-md w-full p-2",id:"group-description",placeholder:"El departamento...",rows:"4"})]}),(0,n.jsx)("div",{className:"flex justify-end mt-4",children:(0,n.jsx)(i.z,{children:"Guardar"})})]})})}},4033:function(e,t,s){e.exports=s(5313)}},function(e){e.O(0,[7895,4799,577,4997,2586,2971,4938,1744],function(){return e(e.s=7243)}),_N_E=e.O()}]);