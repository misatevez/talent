(()=>{var e={};e.id=3845,e.ids=[3845],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},93398:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=t(50482),r=t(69108),i=t(62563),n=t.n(i),l=t(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(a,o);let c=["",{children:["dashboard",{children:["evaluaciones",{children:["temas",{children:["asignartema",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9923)),"/home/runner/work/xtratalent/xtratalent/src/app/dashboard/evaluaciones/temas/asignartema/[slug]/page.js"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,12696)),"/home/runner/work/xtratalent/xtratalent/src/app/dashboard/layout.js"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,51965)),"/home/runner/work/xtratalent/xtratalent/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/runner/work/xtratalent/xtratalent/src/app/dashboard/evaluaciones/temas/asignartema/[slug]/page.js"],u="/dashboard/evaluaciones/temas/asignartema/[slug]/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/evaluaciones/temas/asignartema/[slug]/page",pathname:"/dashboard/evaluaciones/temas/asignartema/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},85128:(e,a,t)=>{Promise.resolve().then(t.bind(t,86992))},86992:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>x});var s=t(95344),r=t(3729),i=t(8164),n=t(91525);t(16802);var l=t(20586),o=t(7650),c=t(20783),d=t.n(c),u=t(87013);t(82549);var m=t(22254);function x({id_evaluacion:e}){let[a,t]=(0,r.useState)([]),[c,x]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[v,g]=(0,r.useState)([]),[j,b]=(0,r.useState)({}),f=(0,m.useRouter)(),[_,w]=(0,r.useState)({visible:!1,titulo:"",mensaje:""}),y=async e=>{e.preventDefault(),console.log(j);let{data:a,error:t}=await n.Z.from("temas").update({id_evaluacion:j.id_evaluacion}).eq("id_tema",j.id_tema);h(e=>!e),t?w({visible:!0,titulo:"Error",mensaje:"Vuelva a intentar mas tarde: "+t.message}):w({visible:!0,titulo:"\xc9xito",mensaje:"Se asignado el tema a la evaluacion"})};(0,r.useEffect)(()=>{(async()=>{let{data:a,error:s}=await n.Z.from("evaluaciones").select("*").eq("id_evaluacion",e).single();s?console.log(s):(t(a),x(!0),b(a=>({...a,id_evaluacion:e})))})()},[p]),(0,r.useEffect)(()=>{c&&(async()=>{let{data:a,error:t}=await n.Z.from("temas").select("nombre, id_tema").eq("id_evaluacion",e);t?console.log(t):(console.log("Esto es data de temas:",a),g(a))})()},[c,p,e]);let q=e=>{let{name:a,value:t}=e.target;b(e=>({...e,[a]:t}))},N=async(e,a)=>{let{error:t}=await n.Z.from("temas").update({id_evaluacion:null}).match({id_evaluacion:e,id_tema:a});h(e=>!e),t?w({visible:!0,titulo:"Error",mensaje:"Vuelva a intentar m\xe1s tarde: "+t.message}):w({visible:!0,titulo:"\xc9xito",mensaje:"Se elimin\xf3 la relaci\xf3n del tema con la evaluaci\xf3n"})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex w-full h-full",children:[s.jsx("div",{className:"w-1/2 p-4",children:s.jsx("div",{className:"p-8 mx-auto w-full max-w-3xl",children:s.jsx("form",{onSubmit:y,className:"rounded-lg shadow-lg",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-inner m-auto text-start",children:[s.jsx("h1",{className:"text-center text-xl font-bold",children:"Asignar tema a evaluacion"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 mt-6",children:[s.jsx("div",{className:"flex flex-col m-2",children:(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block font-semibold",htmlFor:"group-name",children:"Nombre de evaluacion:"}),(0,s.jsxs)("span",{className:"text-sm",children:[" ",a.nombre," "]})]})}),s.jsx("div",{className:"flex flex-col m-2",children:s.jsx(o.Z,{selectedTipoId:j.id_tema,onGrupoTipoChange:e=>{q({target:{name:"id_tema",value:e}})}})})]}),(0,s.jsxs)("span",{className:"text-sm font-bold mt-4  text-gray-800",children:["\xbfTodavia no ha creado el tema para esta evaluacion? ",s.jsx(d(),{className:"text-blue-500 underline",href:"/dashboard/evaluaciones/temas/creartema",children:"Crear tema"})," "]}),s.jsx("div",{className:"flex justify-around mt-4",children:s.jsx(l.z,{type:"submit",className:"bg-blue-500 text-white",variant:"default",children:"Asignar"})})]})})})}),s.jsx("div",{className:"w-1/2 p-4 ",children:(0,s.jsxs)("div",{className:"p-8 space-y-8 mt-8 mb-8 mx-auto max-w-7xl  rounded-lg shadow-lg",children:[s.jsx("h2",{className:"text-center text-xl font-bold",children:"Temas asignados a esa evaluacion"}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-bold mb-4",children:"Evaluacion: "}),a.nombre]}),s.jsx("div",{className:"space-y-4 text-center",children:(0,s.jsxs)(u.iA,{children:[s.jsx(u.xD,{children:(0,s.jsxs)(u.SC,{children:[s.jsx(u.ss,{children:"Tema"}),s.jsx(u.ss,{children:"Accion"}),s.jsx(u.ss,{children:"Preguntas"})]})}),s.jsx(u.RM,{children:v.map((e,t)=>(0,s.jsxs)(u.SC,{children:[s.jsx(u.pj,{children:e.nombre}),(0,s.jsxs)(u.pj,{children:[s.jsx(l.z,{onClick:()=>f.push(`/dashboard/evaluaciones/temas/${e.id_tema}`),className:"w-1/2",type:"submit",children:"Edit"}),s.jsx(l.z,{onClick:()=>N(a.id_evaluacion,e.id_tema),className:"w-1/2",type:"submit",children:"Delete"})]}),s.jsx(u.pj,{children:s.jsx(l.z,{onClick:()=>f.push(`/dashboard/evaluaciones/preguntas/crearpregunta/${e.id_tema}`),className:"w-1/2",type:"submit",children:"Ver preguntas"})})]},t))})]})})]})})]}),_.visible&&s.jsx(i.U,{titulo:_.titulo,mensaje:_.mensaje,visible:_.visible,onClose:()=>{w(e=>({...e,visible:!1}))}})]})}},9923:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var s=t(25036);let r=(0,t(86843).createProxy)(String.raw`/home/runner/work/xtratalent/xtratalent/src/components/evaluaciones/temas/asignar-tema.jsx`),{__esModule:i,$$typeof:n}=r,l=r.default;function o({params:e}){let{slug:a}=e;return s.jsx("div",{children:s.jsx(l,{id_evaluacion:a})})}}};var a=require("../../../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[1638,2572,4959,783,5590,8830,570,7258],()=>t(93398));module.exports=s})();